# Playwright Test Command

あなたは Web フロントエンドの品質チェックエンジニアです。

## Description

Playwright を使用して任意の Web ページに対して、次の観点で包括的なテストを自動実行します。

- レスポンシブデザイン
- インタラクティブ要素の挙動
- コンソールエラー・リソース失敗の検出
- アクセシビリティ

開発中の画面や公開済みサイトの品質を定期的にチェックする用途に最適です。

## Usage

### 🚀 URL を指定せず開始（推奨）

```bash
/playwright
```

URL 入力用のプロンプトが表示され、指定されたページに対して `full-test` を実行します。

### 📝 URL を直接指定

```bash
/playwright http://localhost:3000
/playwright https://example.com
/playwright /any-page
```

### 🔧 個別アクションの指定

```bash
/playwright <action> [url]
```

## Parameters

- `action`: 実行するテスト種別（navigate, snapshot, responsive, interactive, full-test）
- `url`: テスト対象の URL。省略時は直近で編集したファイルに関連するページを仮定します

## Examples

### 🎯 包括テスト（フルテスト）

```bash
/playwright
/playwright https://example.com
```

### 🔧 アクション別の実行

```bash
/playwright responsive
/playwright interactive https://myapp.dev/login
```

## Commands

### Navigate

指定 URL へアクセスし、HTTP ステータス・タイトル・コンソールログなどの基本情報を収集します。

### Snapshot

アクセシビリティ観点での構造スナップショットを取得し、主なセクション・階層構造を分析します。

### Responsive

以下の画面サイズで UI を確認し、レイアウトの崩れや要素の視認性をチェックします：

- デスクトップ：1920x1080
- タブレット：768x1024
- モバイル：375x667

各表示での要素はみ出しやテキストの重なりを検出します。

### Interactive

デスクトップとモバイルで、次のようなインタラクティブ要素の動作確認を行います：

- ボタンの押下
- フォームの未入力送信チェック
- バリデーションメッセージの表示確認
- 外部/内部リンクの遷移

### Full-test

上記すべてのテスト（Navigate / Responsive / Interactive / Snapshot / コンソール・リソースエラー）を一括実行します。

## 🔍 テスト観点一覧

### レスポンシブデザイン

- ブレークポイントの適用確認
- テキストや要素のはみ出し検知
- 各画面サイズでの UI 崩れ

### インタラクティブ要素

- UI 操作時のエラー表示
- ボタンやリンクの挙動
- 未入力時バリデーションの挙動

### パフォーマンス・エラー

- JS コンソールエラーの有無
- ネットワークリクエスト失敗や遅延
- 未読み込みリソースの検出

### アクセシビリティ

- ARIA ラベル・フォーカス管理の確認
- セクション階層の妥当性
- キーボード操作時の反応

特に以下は全てチェックしてください

- ボタンから文字がはみ出していないか
- ページの最下部までスクロールして、最上部まで戻れるか
- テキストの可読性
- 全てのボタンが押下できるか、反応しているか
- 未入力時のエラー表示
- 再読み込み時にスケルトンスクリーンは表示されるか

## Notes

- 外部サイトもテスト可能（ただし CORS の影響あり）
- Playwright ブラウザは自動ダウンロード・起動
- テスト結果は人がレビューできる形式で表示されます
- 運用フローや CI に組み込む場合にも応用可能です

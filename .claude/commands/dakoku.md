# `/dakoku` コマンド

## 使い方

```bash
/dakoku in    # 出勤打刻
/dakoku out   # 退勤打刻
/dakoku break # 休憩開始/終了
/dakoku       # 本日の勤怠状況を表示
```

## 重要：時刻の取得について

このコマンドは実行時の正確な時刻を自動取得できません。
以下のいずれかの方法で時刻を指定してください

### 方法 1: TIME MCP Server（最も正確）

```bash
# TIME MCP設定済みの場合
/dakoku in  # 自動で正確な時刻を取得
```

### 方法 2: 現在日時を確認して入力

```bash
date '+%Y年%m月%d日（%a）%H:%M'  # 現在の日時と曜日を確認
/dakoku in 09:00  # 時刻を指定して打刻
```

### 方法 3: デフォルト（Claude Code 処理時刻）

```bash
/dakoku in  # 処理時の時刻で記録（数秒の誤差あり）
```

## 出力例

```md
# 勤怠記録: 2025 年 06 月 21 日（土）

## 本日の打刻

- 出勤: 09:00
- 休憩開始: 12:00
- 休憩終了: 13:00
- 退勤: --:--（未打刻）

## 勤務時間

- 実働時間: 3 時間 00 分（進行中）
- 休憩時間: 1 時間 00 分
```

## 機能

- 出退勤時刻の記録
- 休憩時間の管理
- 実働時間の自動計算
- 記録を`_docs/timecard/YYYY/MM/`に月別で保存

## オプション

```bash
/dakoku list  # 今月の勤怠一覧
/dakoku month # 月次勤怠集計
```

## 保存形式

```json
{
  "date": "2025-06-21",
  "in": "09:00",
  "out": "18:30",
  "breaks": [{ "start": "12:00", "end": "13:00" }],
  "total": "8:30"
}
```

## セットアップ

1. `.claude/commands/`ディレクトリを作成
2. このファイルを`dakoku.md`として保存
3. Claude Code で`/dakoku in`を実行
